### HTTP2.0
#### HTTP的瓶颈
- 一条连接只可发送一个请求
- 请求只能从客户端开始。客户端不可以接收除响应以外的指令
- 请求/响应首部未经压缩就发送。首部信息越多延迟越大
- 发送冗长的首部。每次互相发送相同的首部造成的浪费较多
- 可任意选择数据压缩格式。非强制压缩发送

#### SPDY协议
- SPDY没有完全改写HTTP协议，而是在TCP/TP的应用层与传输层之间通过新加会话层的形式运作。同事，考虑到安全性问题，SPDY规定通信中使用SSL
- SPDY以会话层的形式加入，控制对数据的流动，但还是采用HTTP建立通信连接，因此，可照常使用HTTP的GET和POST等方法、Cookie以及HTTP报文等

- 功能
  - 多路复用流
  - 赋予请求优先级
  - 压缩HTTP首部
  - 推送功能
  - 服务器提示功能

#### HTTP2.0
- HTTP2是基于HTTP1.1的扩展，主要目标是通过支持完整的请求与响应复用来减少延迟，通过有效压缩 HTTP 标头字段将协议开销降至最低，同时增加对请求优先级和服务器推送的支持
- 为达成这些目标，HTTP/2带来了大量其他协议层面的辅助实现，例如新的流控制、错误处理和升级机制

##### 二进制分帧层
- HTTP2采用了新的二进制分帧层，将所有传输的信息分割为更小的消息和帧，并采用二进制格式对它们编码。这些帧对应着特定数据流中的消息。所有这些都在一个 TCP 连接内复用。 这是 HTTP/2 协议所有其他功能和性能优化的基础

##### HTTP2.0 的连接过程
- 数据流：已建立的连接内的双向字节流，可以承载一条或多条消息。
- 消息：与逻辑请求或响应消息对应的完整的一系列帧。
- 帧：HTTP/2 通信的最小单位，每个帧都包含帧头，会标识出当前帧所属的数据流

1. 所有通信都在一个 TCP 连接上完成，此连接可以承载任意数量的双向数据流
2. 每个数据流都有一个唯一的标识符和可选的优先级信息，用于承载双向消息
3. 每条消息都是一条逻辑 HTTP 消息（例如请求或响应），包含一个或多个帧
4. 帧是最小的通信单位，承载着特定类型的数据，例如 HTTP 标头、消息负载等等。 来自不同数据流的帧可以交错发送，然后再根据每个帧头的数据流标识符重新组装



